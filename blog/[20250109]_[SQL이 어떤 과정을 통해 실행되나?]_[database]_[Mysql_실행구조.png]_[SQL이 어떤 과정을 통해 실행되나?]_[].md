# SQL이 어떤 과정을 통해 실행되나?

![Mysql_실행구조.png](..%2Fimg%2FMysql_%EC%8B%A4%ED%96%89%EA%B5%AC%EC%A1%B0.png)

## 쿼리 실행 구조

### 쿼리 파서
사용자 요청으로 들어온 쿼리 문장을 토큰(MySql이 인식할 수 있는 최소 단위)으로 분리하여 트리 형태의 구조로 만들어 내는 작업을 의미,
이 과정에서 쿼리 기본 문법 오류를 발견하여 사용자에게 오류 메시지를 전달합니다.

### 전처리기
파서를 통해 만들어진 파서 트리를 기반으로 쿼리 문장에 구조적인 문제점이 있는지 확인합니다. 각 토큰을 테이블 이름이나 컬럼 이름, 내장 함수 등 개체를 매핑해 해당 객체의 존재 여부와 접근 권한 등을 확인합니다.
존재하지 않거나 권한상 사용할 수 없는 개체의 토큰은 이 단계에서 제거됩니다.

### 옵티마이저
요청으로 들어온 쿼리 문장을 최소 비용으로 가장 빠르게 처리할지 결정합니다. DBMS의 두뇌에 해당한다고 볼 수 있습니다. 여러 실행 경로 중 최적의 경로를 선택하는 역할을 합니다.

### 실행 엔진
옵티마이저가 선택한 계획을 기반으로, 실행 엔진은 각 핸들러에게 데이터 요청을 보내고, 받은 결과를 다른 핸들러 요청의 입력으로 사용합니다.
이 과정에서 실행 엔진은 쿼리의 논리적 순서대로 작업을 조정하고 처리합니다.

### 핸들러
실행 엔진의 요청을 받아 데이터를 디스크에 읽기 또는 쓰는 역할을 담당합니다.
데이터의 물리적 입출력 작업을 처리하며, 쿼리의 실제 실행에 필요한 데이터를 제공합니다.
